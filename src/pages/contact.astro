---
// src/pages/contact.astro
import Layout from '../layouts/Layout.astro';
import SectionTitle from '../components/SectionTitle.astro';
---

<Layout title="お問い合わせフォーム">
    <main class="p-8 bg-primary-back min-h-screen pt-24 md:pt-48 font-tsukushi">
        <section class="max-w-4xl mx-auto">
        <SectionTitle title="CONTACT" subtitle="お問い合わせ" />
        
        <div class="p-4 rounded mb-8">
            <p class="text-primary m-0">お気軽にお問い合わせください。内容を確認後、担当者よりご連絡いたします。</p>
        </div>
        
        <form id="contactForm" action="https://formspree.io/f/xjkengel" method="POST" class="space-y-6">
            <!-- 基本情報 -->
            <div class="mb-6">
                <label for="name" class="block mb-2 font-bold text-primary">お名前 <span class="text-red-500">*</span></label>
                <input type="text" id="name" name="name" required class="w-full p-2 md:p-3 border border-gray-300 rounded-md text-sm md:text-base text-primary">
            </div>
            
            <div class="mb-6">
                <label for="furigana" class="block mb-2 font-bold text-primary">ふりがな <span class="text-red-500">*</span></label>
                <input type="text" id="furigana" name="furigana" required class="w-full p-2 md:p-3 border border-gray-300 rounded-md text-sm md:text-base text-primary">
            </div>
            
            <div class="mb-6">
                <label for="email" class="block mb-2 font-bold text-primary">メールアドレス <span class="text-red-500">*</span></label>
                <input type="email" id="email" name="email" required class="w-full p-2 md:p-3 border border-gray-300 rounded-md text-sm md:text-base text-primary">
            </div>
            
            <div class="mb-6">
                <label for="phone" class="block mb-2 font-bold text-primary">電話番号</label>
                <input type="tel" id="phone" name="phone" class="w-full p-2 md:p-3 border border-gray-300 rounded-md text-sm md:text-base text-primary">
            </div>
            
            <!-- お問い合わせ内容 -->
            <div class="mb-6">
                <label for="message" class="block mb-2 font-bold text-primary">お問い合わせ内容 <span class="text-red-500">*</span></label>
                <textarea id="message" name="message" required placeholder="お問い合わせ内容を詳しくお聞かせください" class="w-full p-2 md:p-3 border border-gray-300 rounded-md text-sm md:text-base min-h-[200px] resize-y text-primary"></textarea>
            </div>
            
            <!-- 送信ボタン -->
            <div class="flex justify-center">
                <button type="submit" class="bg-blue-900-900 hover:bg-blue-800 text-white font-tsukushi font-medium rounded-lg text-sm px-8 py-4 text-center transition-colors duration-300">
                    送信する
                    <span class="ml-2 inline-block align-middle">→</span>
                </button>
            </div>
        </form>
        </section>
    </main>
</Layout>

<style>
    .black-bar {
        width: 5vw;
        min-width: 40px;
        height: 1px;
        background: #1d453c;
        display: block;
        border-radius: 1px;
    }
    
    .font-inter {
        font-family: 'Inter', sans-serif;
    }
    
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      const contactForm = document.getElementById('contactForm') as HTMLFormElement | null;
  
      if (contactForm) {
        contactForm.addEventListener('submit', function (e) {
          // バリデーション
          const name = (document.getElementById('name') as HTMLInputElement | null)?.value;
          const email = (document.getElementById('email') as HTMLInputElement | null)?.value;
          const message = (document.getElementById('message') as HTMLTextAreaElement | null)?.value;

          if (!name || !email || !message) {
            e.preventDefault();
            alert('必須項目を入力してください。');
            return;
          }
  
          // 送信ボタンを無効化して重複送信を防ぐ
          const submitButton = this.querySelector('button[type="submit"]') as HTMLButtonElement;
          if (submitButton) {
            submitButton.disabled = true;
            submitButton.textContent = '送信中...';
          }
        });
      }
    });
  </script>
  